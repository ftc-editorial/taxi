{"version":3,"sources":["node_modules/browser-pack/_prelude.js","bower_components/dom-delegate/lib/delegate.js","bower_components/ftc-share/main.js","bower_components/ftc-share/src/js/TextCopyHelper.js","bower_components/ftc-share/src/js/share.js","client/main.js"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*jshint browser:true, node:true*/\n\n'use strict';\n\nmodule.exports = Delegate;\n\n/**\n * DOM event delegator\n *\n * The delegator will listen\n * for events that bubble up\n * to the root node.\n *\n * @constructor\n * @param {Node|string} [root] The root node or a selector string matching the root node\n */\nfunction Delegate(root) {\n\n  /**\n   * Maintain a map of listener\n   * lists, keyed by event name.\n   *\n   * @type Object\n   */\n  this.listenerMap = [{}, {}];\n  if (root) {\n    this.root(root);\n  }\n\n  /** @type function() */\n  this.handle = Delegate.prototype.handle.bind(this);\n}\n\n/**\n * Start listening for events\n * on the provided DOM element\n *\n * @param  {Node|string} [root] The root node or a selector string matching the root node\n * @returns {Delegate} This method is chainable\n */\nDelegate.prototype.root = function(root) {\n  var listenerMap = this.listenerMap;\n  var eventType;\n\n  // Remove master event listeners\n  if (this.rootElement) {\n    for (eventType in listenerMap[1]) {\n      if (listenerMap[1].hasOwnProperty(eventType)) {\n        this.rootElement.removeEventListener(eventType, this.handle, true);\n      }\n    }\n    for (eventType in listenerMap[0]) {\n      if (listenerMap[0].hasOwnProperty(eventType)) {\n        this.rootElement.removeEventListener(eventType, this.handle, false);\n      }\n    }\n  }\n\n  // If no root or root is not\n  // a dom node, then remove internal\n  // root reference and exit here\n  if (!root || !root.addEventListener) {\n    if (this.rootElement) {\n      delete this.rootElement;\n    }\n    return this;\n  }\n\n  /**\n   * The root node at which\n   * listeners are attached.\n   *\n   * @type Node\n   */\n  this.rootElement = root;\n\n  // Set up master event listeners\n  for (eventType in listenerMap[1]) {\n    if (listenerMap[1].hasOwnProperty(eventType)) {\n      this.rootElement.addEventListener(eventType, this.handle, true);\n    }\n  }\n  for (eventType in listenerMap[0]) {\n    if (listenerMap[0].hasOwnProperty(eventType)) {\n      this.rootElement.addEventListener(eventType, this.handle, false);\n    }\n  }\n\n  return this;\n};\n\n/**\n * @param {string} eventType\n * @returns boolean\n */\nDelegate.prototype.captureForType = function(eventType) {\n  return ['blur', 'error', 'focus', 'load', 'resize', 'scroll'].indexOf(eventType) !== -1;\n};\n\n/**\n * Attach a handler to one\n * event for all elements\n * that match the selector,\n * now or in the future\n *\n * The handler function receives\n * three arguments: the DOM event\n * object, the node that matched\n * the selector while the event\n * was bubbling and a reference\n * to itself. Within the handler,\n * 'this' is equal to the second\n * argument.\n *\n * The node that actually received\n * the event can be accessed via\n * 'event.target'.\n *\n * @param {string} eventType Listen for these events\n * @param {string|undefined} selector Only handle events on elements matching this selector, if undefined match root element\n * @param {function()} handler Handler function - event data passed here will be in event.data\n * @param {Object} [eventData] Data to pass in event.data\n * @returns {Delegate} This method is chainable\n */\nDelegate.prototype.on = function(eventType, selector, handler, useCapture) {\n  var root, listenerMap, matcher, matcherParam;\n\n  if (!eventType) {\n    throw new TypeError('Invalid event type: ' + eventType);\n  }\n\n  // handler can be passed as\n  // the second or third argument\n  if (typeof selector === 'function') {\n    useCapture = handler;\n    handler = selector;\n    selector = null;\n  }\n\n  // Fallback to sensible defaults\n  // if useCapture not set\n  if (useCapture === undefined) {\n    useCapture = this.captureForType(eventType);\n  }\n\n  if (typeof handler !== 'function') {\n    throw new TypeError('Handler must be a type of Function');\n  }\n\n  root = this.rootElement;\n  listenerMap = this.listenerMap[useCapture ? 1 : 0];\n\n  // Add master handler for type if not created yet\n  if (!listenerMap[eventType]) {\n    if (root) {\n      root.addEventListener(eventType, this.handle, useCapture);\n    }\n    listenerMap[eventType] = [];\n  }\n\n  if (!selector) {\n    matcherParam = null;\n\n    // COMPLEX - matchesRoot needs to have access to\n    // this.rootElement, so bind the function to this.\n    matcher = matchesRoot.bind(this);\n\n  // Compile a matcher for the given selector\n  } else if (/^[a-z]+$/i.test(selector)) {\n    matcherParam = selector;\n    matcher = matchesTag;\n  } else if (/^#[a-z0-9\\-_]+$/i.test(selector)) {\n    matcherParam = selector.slice(1);\n    matcher = matchesId;\n  } else {\n    matcherParam = selector;\n    matcher = matches;\n  }\n\n  // Add to the list of listeners\n  listenerMap[eventType].push({\n    selector: selector,\n    handler: handler,\n    matcher: matcher,\n    matcherParam: matcherParam\n  });\n\n  return this;\n};\n\n/**\n * Remove an event handler\n * for elements that match\n * the selector, forever\n *\n * @param {string} [eventType] Remove handlers for events matching this type, considering the other parameters\n * @param {string} [selector] If this parameter is omitted, only handlers which match the other two will be removed\n * @param {function()} [handler] If this parameter is omitted, only handlers which match the previous two will be removed\n * @returns {Delegate} This method is chainable\n */\nDelegate.prototype.off = function(eventType, selector, handler, useCapture) {\n  var i, listener, listenerMap, listenerList, singleEventType;\n\n  // Handler can be passed as\n  // the second or third argument\n  if (typeof selector === 'function') {\n    useCapture = handler;\n    handler = selector;\n    selector = null;\n  }\n\n  // If useCapture not set, remove\n  // all event listeners\n  if (useCapture === undefined) {\n    this.off(eventType, selector, handler, true);\n    this.off(eventType, selector, handler, false);\n    return this;\n  }\n\n  listenerMap = this.listenerMap[useCapture ? 1 : 0];\n  if (!eventType) {\n    for (singleEventType in listenerMap) {\n      if (listenerMap.hasOwnProperty(singleEventType)) {\n        this.off(singleEventType, selector, handler);\n      }\n    }\n\n    return this;\n  }\n\n  listenerList = listenerMap[eventType];\n  if (!listenerList || !listenerList.length) {\n    return this;\n  }\n\n  // Remove only parameter matches\n  // if specified\n  for (i = listenerList.length - 1; i >= 0; i--) {\n    listener = listenerList[i];\n\n    if ((!selector || selector === listener.selector) && (!handler || handler === listener.handler)) {\n      listenerList.splice(i, 1);\n    }\n  }\n\n  // All listeners removed\n  if (!listenerList.length) {\n    delete listenerMap[eventType];\n\n    // Remove the main handler\n    if (this.rootElement) {\n      this.rootElement.removeEventListener(eventType, this.handle, useCapture);\n    }\n  }\n\n  return this;\n};\n\n\n/**\n * Handle an arbitrary event.\n *\n * @param {Event} event\n */\nDelegate.prototype.handle = function(event) {\n  var i, l, type = event.type, root, phase, listener, returned, listenerList = [], target, /** @const */ EVENTIGNORE = 'ftLabsDelegateIgnore';\n\n  if (event[EVENTIGNORE] === true) {\n    return;\n  }\n\n  target = event.target;\n\n  // Hardcode value of Node.TEXT_NODE\n  // as not defined in IE8\n  if (target.nodeType === 3) {\n    target = target.parentNode;\n  }\n\n  root = this.rootElement;\n\n  phase = event.eventPhase || ( event.target !== event.currentTarget ? 3 : 2 );\n  \n  switch (phase) {\n    case 1: //Event.CAPTURING_PHASE:\n      listenerList = this.listenerMap[1][type];\n    break;\n    case 2: //Event.AT_TARGET:\n      if (this.listenerMap[0] && this.listenerMap[0][type]) listenerList = listenerList.concat(this.listenerMap[0][type]);\n      if (this.listenerMap[1] && this.listenerMap[1][type]) listenerList = listenerList.concat(this.listenerMap[1][type]);\n    break;\n    case 3: //Event.BUBBLING_PHASE:\n      listenerList = this.listenerMap[0][type];\n    break;\n  }\n\n  // Need to continuously check\n  // that the specific list is\n  // still populated in case one\n  // of the callbacks actually\n  // causes the list to be destroyed.\n  l = listenerList.length;\n  while (target && l) {\n    for (i = 0; i < l; i++) {\n      listener = listenerList[i];\n\n      // Bail from this loop if\n      // the length changed and\n      // no more listeners are\n      // defined between i and l.\n      if (!listener) {\n        break;\n      }\n\n      // Check for match and fire\n      // the event if there's one\n      //\n      // TODO:MCG:20120117: Need a way\n      // to check if event#stopImmediatePropagation\n      // was called. If so, break both loops.\n      if (listener.matcher.call(target, listener.matcherParam, target)) {\n        returned = this.fire(event, target, listener);\n      }\n\n      // Stop propagation to subsequent\n      // callbacks if the callback returned\n      // false\n      if (returned === false) {\n        event[EVENTIGNORE] = true;\n        event.preventDefault();\n        return;\n      }\n    }\n\n    // TODO:MCG:20120117: Need a way to\n    // check if event#stopPropagation\n    // was called. If so, break looping\n    // through the DOM. Stop if the\n    // delegation root has been reached\n    if (target === root) {\n      break;\n    }\n\n    l = listenerList.length;\n    target = target.parentElement;\n  }\n};\n\n/**\n * Fire a listener on a target.\n *\n * @param {Event} event\n * @param {Node} target\n * @param {Object} listener\n * @returns {boolean}\n */\nDelegate.prototype.fire = function(event, target, listener) {\n  return listener.handler.call(target, event, target);\n};\n\n/**\n * Check whether an element\n * matches a generic selector.\n *\n * @type function()\n * @param {string} selector A CSS selector\n */\nvar matches = (function(el) {\n  if (!el) return;\n  var p = el.prototype;\n  return (p.matches || p.matchesSelector || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector);\n}(Element));\n\n/**\n * Check whether an element\n * matches a tag selector.\n *\n * Tags are NOT case-sensitive,\n * except in XML (and XML-based\n * languages such as XHTML).\n *\n * @param {string} tagName The tag name to test against\n * @param {Element} element The element to test with\n * @returns boolean\n */\nfunction matchesTag(tagName, element) {\n  return tagName.toLowerCase() === element.tagName.toLowerCase();\n}\n\n/**\n * Check whether an element\n * matches the root.\n *\n * @param {?String} selector In this case this is always passed through as null and not used\n * @param {Element} element The element to test with\n * @returns boolean\n */\nfunction matchesRoot(selector, element) {\n  /*jshint validthis:true*/\n  if (this.rootElement === window) return element === document;\n  return this.rootElement === element;\n}\n\n/**\n * Check whether the ID of\n * the element in 'this'\n * matches the given ID.\n *\n * IDs are case-sensitive.\n *\n * @param {string} id The ID to test against\n * @param {Element} element The element to test with\n * @returns boolean\n */\nfunction matchesId(id, element) {\n  return id === element.id;\n}\n\n/**\n * Short hand for off()\n * and root(), ie both\n * with no parameters\n *\n * @return void\n */\nDelegate.prototype.destroy = function() {\n  this.off();\n  this.root();\n};\n","/*global require, module*/\nconst oShare = require('./src/js/share');\n\nconst constructAll = function() {\n\toShare.init();\n\tdocument.removeEventListener('o.DOMContentLoaded', constructAll);\n};\n\ndocument.addEventListener('o.DOMContentLoaded', constructAll);\n\nmodule.exports = oShare;","/*global require, module*/\n\nconst DomDelegate = require('dom-delegate');\n/*const Tooltip = require('./Tooltip');*/\n\n/**\n * Gets the width of a text by using a <canvas> element\n *\n * @param {string} text - The text to measure\n * @param {HTMLElement} refEl - The reference element where the text will be to get the font properties\n *\n * @returns {number}\n */\nfunction getPixelWidthOfText(text, refEl) {\n\tconst c = document.createElement(\"canvas\");\n\n\tif (c.getContext && window.getComputedStyle) {\n\t\tconst ctx = c.getContext(\"2d\");\n\t\tconst refElStyle = window.getComputedStyle(refEl);\n\t\tctx.font = refElStyle.getPropertyValue('font-style') + \" \" + refElStyle.getPropertyValue('font-size') + \" \" + refElStyle.getPropertyValue('font-family');\n\t\tctx.fillText(text, 10, 100);\n\t\treturn ctx.measureText(text).width;\n\t}\n\n\treturn -1;\n}\n\n/**\n * @class TextCopyHelper\n *\n * @param {Object} config\n * @param {string} config.text - Value of the url input element\n * @param {string} config.message - Tooltip text\n * @param {HTMLElement} config.parentEl - Parent element\n * @param {function} config.onDestroy - Optional, callback that will be ran on {@link destroy}\n * @param {function} config.onCopy - Optional, callback that will be ran when the 'copy' event is triggered\n */\nfunction TextCopyHelper(config) {\n\n\tconst textCopyHelper = this;\n\tconst cssClass = 'o-share-tooltip';\n\t/**\n\t * Creates an input element for the URL setting it's correct width corresponding to said URL\n\t *\n\t * @private\n\t * @returns {HTMLElement} inputEl\n\t */\n\tfunction createInputElement(cssClass, text) {\n\t\tconst inputEl = document.createElement('input');\n\t\tinputEl.setAttribute('type', 'text');\n\t\tinputEl.id = cssClass + '__url';\n\t\tinputEl.setAttribute('value', text);\n\n\t\treturn inputEl;\n\t}\n\n\t// Ported from ./Tooltip.js to simply markup strure.\n\tfunction createMessageElement(cssClass, message) {\n\t\tconst messageEl = document.createElement('span');\n\t\tmessageEl.className = cssClass + '__text';\n\t\tmessageEl.innerHTML = message;\n\n\t\treturn messageEl;\n\t}\n\n\tfunction createTooltip(cssClass) {\n\t\tconst tipEl = document.createElement('div')\n\t\ttipEl.className = cssClass;\n\n\t\treturn tipEl;\n\t}\n\n\t/**\n\t * Initializes document.body and input dom-delegates and creates tooltip and input element\n\t *\n\t * @private\n\t */\n\tfunction init() {\n\t\ttextCopyHelper.inputEl = createInputElement(cssClass, config.text);\n\t\tconst inputWidth = getPixelWidthOfText(config.text, textCopyHelper.inputEl);\n\n\t\tif (inputWidth !== -1) {\n\t\t\ttextCopyHelper.inputEl.style.width = inputWidth + 'px';\n\t\t}\n\t\t\n\n\t\ttextCopyHelper.messageEl = createMessageElement(cssClass, config.message);\n\n\t\ttextCopyHelper.tooltip = createTooltip(cssClass);\n\n\t\ttextCopyHelper.tooltip.appendChild(textCopyHelper.inputEl);\n\t\ttextCopyHelper.tooltip.appendChild(textCopyHelper.messageEl);\n\n\t\tconfig.parentEl.appendChild(textCopyHelper.tooltip);\n// select() must be put after inputEl appeared in the DOM tree.\t\t\n\t\ttextCopyHelper.inputEl.select();\n//\t\ttextCopyHelper.tooltip = new Tooltip(config.message, config.parentEl);\n\t\ttextCopyHelper.config = config;\n\n\t\ttextCopyHelper.bodyDomDelegate = new DomDelegate(document.body);\n\n\t\ttextCopyHelper.inputDomDelegate = new DomDelegate(textCopyHelper.inputEl);\n\t}\n\n\tinit();\n\n\tthis.bodyDomDelegate.on('click', function(ev) {\n\t\tif (!config.parentEl.contains(ev.target)) {\n\t\t\ttextCopyHelper.destroy();\n\t\t}\n\t});\n\tthis.bodyDomDelegate.on('keydown', function(ev) {\n\t\t// 27 = Escape, 9 = Tab\n\t\tif (ev.keyCode === 27 || ev.keyCode === 9) {\n\t\t\ttextCopyHelper.destroy();\n\t\t}\n\n\t\t// 8 = Backspace\n\t\tif (ev.keyCode === 8) {\n\t\t\tev.stopImmediatePropagation();\n\t\t\tev.preventDefault();\n\t\t}\n\t});\n\n\t// Stop input from being edited\n\tthis.inputDomDelegate.on('keypress', function(ev) {\n\t\tev.preventDefault();\n\t});\n\n\tthis.inputDomDelegate.on('copy', function() {\n\t\ttextCopyHelper.messageEl.innerHTML = '已复制!';\n\n\t\tif (typeof config.onCopy === \"function\") {\n\t\t\tconfig.onCopy();\n\t\t}\n\t});\n\n}\n\n/**\n * Destroys the TextCopyHelper, disabling event listeners, and removing the input and tooltip from DOM. Also runs optional {@link config.onDestroy}\n */\nTextCopyHelper.prototype.destroy = function() {\n\tthis.tooltip.removeChild(this.inputEl);\n\tthis.inputEl = undefined;\n\n\tthis.tooltip.removeChild(this.messageEl);\n\tthis.messageEl = undefined;\n\t\n\n\tthis.tooltip.parentElement.removeChild(this.tooltip);\n\tthis.tooltip = undefined;\n//\tthis.tooltip.destroy();\n\t\t\n\tthis.bodyDomDelegate.destroy();\n//\tthis.inputDomDelegate.destroy();\n\n\tif (typeof this.config.onDestroy === \"function\") {\n\t\tthis.config.onDestroy();\n\t}\n};\n\n\nmodule.exports = TextCopyHelper;\n","const DomDelegate = require('dom-delegate');\nconst TextCopyHelper = require('./TextCopyHelper');\n\nconst socialUrls = {\n\twechat: {\n\t\tname: \"微信\",\n\t\turl: \"http://www.ftchinese.com/m/corp/qrshare.html?title={{title}}&url={{url}}&ccode=2C1A1408\"\n\t},\n\tweibo: {\n\t\tname: \"微博\",\n\t\turl: \"http://service.weibo.com/share/share.php?&appkey=4221537403&url={{url}}&title=【{{title}}】{{summary}}&ralateUid=1698233740&source=FT中文网&sourceUrl=http://www.ftchinese.com/&content=utf8&ccode=2G139005\"\n\t},\n\tlinkedin: {\n\t\tname: \"领英\",\n\t\turl: \"http://www.linkedin.com/shareArticle?mini=true&url={{url}}&title={{title}}&summary={{summary}}&source=FT中文网\"\n\t},\n\tfacebook: {\n\t\tname: \"Facebook\",\n\t\turl: \"http://www.facebook.com/sharer.php?u={{url}}\"\n\t},\n\ttwitter: {\n\t\tname: \"Twitter\",\n\t\turl: \"https://twitter.com/intent/tweet?url={{url}}&amp;text={{title}}&amp;via=FTChinese\"\n\t},\n\turl: {\n\t\tname: \"复制链接\",\n\t\turl: \"{{url}}\"\n\t} \n};\n\n// Get page meta content statically. Should not put this inside the `Share` object in order to reduce DOM traverse.\nconst fallbackConfig = {\n\tlinks: ['wechat', 'weibo', 'linkedin', 'facebook', 'twitter', 'url'],\n\n\turl: window.location.href || '',\n\tsummary: (function() {\n\t\t\tlet descElement = document.querySelector('meta[property=\"og:description\"]');\n\t\t\tif (descElement) {\n\t\t\t\treturn descElement.hasAttribute('content') ? descElement.getAttribute('content') : '';\n\t\t\t}\n\t\t\treturn '';\n\t\t})(),\n\ttitle: (function() {\n\t\t\tlet titleElement = document.querySelector('title');\n\t\t\tif (titleElement) {\n\t//`innerText` for IE\n\t\t\t\tlet titleText = (titleElement.textContent !== undefined) ? titleElement.textContent : titleElement.innerText;\n\t\t\t\treturn titleText.split('-')[0].trim();\n\t\t\t}\n\t\t\treturn '';\n\t\t})()\n};\n\n/*\nconfig = {\n\turl: 'http://www.fthince.com',location.href.\n\ttitle: 'Article Title',\n\tsummary: 'A short summary of the article',\n\tlinks: ['wechat', 'weibo', 'linkedin']\n}\n*/\nfunction Share (rootEl, config) {\n\tconst oShare = this;\n\tconst openWindows = {};\n\n\tfunction init() {\n\t\tif (!rootEl) {\n\t\t\trootEl = document.body;\n\t\t} else if (!(rootEl instanceof HTMLElement)) {\n\t\t\trootEl = document.querySelector(rootEl);\n\t\t}\n\n\t\tconst rootDelegate = new DomDelegate(rootEl);\n\t\trootDelegate.on('click', handleClick);\n\t\trootEl.setAttribute('data-o-share--js', '');\n\n\t\toShare.rootDomDelegate = rootDelegate;\n\t\toShare.rootEl = rootEl;\n\n\t\tif (rootEl.children.length === 0) {\n\t\t\tif (!config) {\n\t\t\t\tconfig = {};\n\t\t\t\tconfig.links = rootEl.hasAttribute('data-o-share-links') ? rootEl.getAttribute('data-o-share-links').split(' ') : fallbackConfig.links;\n\t\t\t\tconfig.url = rootEl.getAttribute('data-o-share-url') || fallbackConfig.url;\n\t\t\t\tconfig.title = rootEl.getAttribute('data-o-share-title') || fallbackConfig.title;\n\t\t\t\tconfig.summray = rootEl.getAttribute('data-o-share-summary') || fallbackConfig.summary;\n\t\t\t}\n\t\t\trender();\n\t\t}\n\n\t\tconst initEvent = new CustomEvent('oShare.ready',\n\t\t\t{\n\t\t\t\tdetail: {\n\t\t\t\t\tshare: oShare\n\t\t\t\t},\n\t\t\t\tbubbles: true\n\t\t\t}\n\t\t);\n\n\t\toShare.rootEl.dispatchEvent(initEvent);\n\t}\n\n\tfunction render() {\n\t\tconst ulElement = document.createElement('ul');\n\n\t\tfor (let i = 0; i < config.links.length; i++) {\n\t\t\tconst link = config.links[i];\n\t\t\tconst linkName = socialUrls[link].name;\n\t\t\t\n\t\t\tconst liElement = document.createElement('li');\n\t\t\tliElement.classList.add('o-share__action', 'o-share__action--' + link)\n\t\t\t\n\t\t\tconst aElement = document.createElement('a');\n\t\t\t// Do not need to encode url for `socialUrl[url]`\n\t\t\tif (link !== 'url') {\n\t\t\t\taElement.href = generateSocialUrl(link);\n\t\t\t} else {\n\t\t\t\taElement.href = config.url;\n\t\t\t}\n\t\t\t\n\t\t\taElement.setAttribute('data-link-tooltip', linkName);\n\t\t\t\n\t\t\tconst iElement = document.createElement('i');\n\t\t\tiElement.innerHTML = linkName;\n\t\t\taElement.appendChild(iElement);\n\n\t\t\tliElement.appendChild(aElement);\n\t\t\tulElement.appendChild(liElement);\n\t\t}\n\t\toShare.rootEl.appendChild(ulElement);\n\t}\n\n\tfunction generateSocialUrl (socialNetwork) {\n\t\tlet templateUrl = socialUrls[socialNetwork].url;\n\t\ttemplateUrl = templateUrl.replace('{{url}}', encodeURIComponent(config.url))\n\t\t\t.replace('{{title}}', encodeURIComponent(config.title))\n\t\t\t.replace('{{summary}}', encodeURIComponent(config.summary));\n\t\t\n\t\treturn templateUrl;\n\t}\n\n\tfunction handleClick(e) {\n\t\tconst actionEl = e.target.closest('li.o-share__action');\n\n\t\tif (oShare.rootEl.contains(actionEl) && actionEl.querySelector('a[href]')) {\n\t\t\te.preventDefault();\n\n\t\t\tconst url = actionEl.querySelector('a[href]').href;\n\n\t\t\tconst clickEvent = new CustomEvent('oTracking.event', {\n\t\t\t\tdetail: {\n\t\t\t\t\tcategory: 'share',\n\t\t\t\t\taction: 'click',\n\t\t\t\t\tbutton: actionEl.textContent.trim()\n\t\t\t\t}\n\t\t\t});\n\t\t\toShare.rootEl.dispatchEvent(clickEvent);\n\n\t\t\tif (actionEl.classList.contains('o-share__action--url')) {\n\t\t\t\tcopyLink(url, actionEl);\n\t\t\t} else {\n\t\t\t\tshareSocial(url);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction copyLink(url, parentEl) {\n\t\tif (!url || !parentEl || parentEl.hasAttribute('aria-selected')) {\n\t\t\treturn;\n\t\t}\n\t\tparentEl.setAttribute('aria-selected', 'true');\n\n\t\tnew TextCopyHelper({\n\t\t\tmessage: '分享此链接',\n\t\t\ttext: url,\n\t\t\tparentEl: parentEl,\n\t\t\tonCopy: function() {\n\t\t\t\toShare.rootEl.dispatchEvent(new CustomEvent('oShare.copy', {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\tshare: oShare,\n\t\t\t\t\t\taction: 'url',\n\t\t\t\t\t\turl: url\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t},\n\t\t\tonDestroy: function() {\n\t\t\t\tparentEl.removeAttribute('aria-selected');\n\t\t\t}\n\t\t});\n\n\t\toShare.rootEl.dispatchEvent(new CustomEvent('oShare.open', {\n\t\t\tdetail: {\n\t\t\t\tshare: oShare,\n\t\t\t\taction: 'url',\n\t\t\t\turl: url\n\t\t\t}\n\t\t}));\n\t}\n\n\tfunction shareSocial(url) {\n\t\tif (url) {\n\t\t\tif (openWindows[url] && !openWindows[url].closed) {\n\t\t\t\topenWindows[url].focus();\n\t\t\t} else {\n\t\t\t\topenWindows[url] = window.open(url, '', 'width=646,height=436');\n\t\t\t}\n\n\t\t\toShare.rootEl.dispatchEvent(new CustomEvent('oShare.open', {\n\t\t\t\tdetail: {\n\t\t\t\t\tshare: oShare,\n\t\t\t\t\taction: 'social',\n\t\t\t\t\turl: url\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tinit();\n}\n\nShare.prototype.destroy = function() {\n\tthis.rootDomDelegate.destroy();\n\n\tfor (let i = 0; i < this.rootEl.children; i++) {\n\t\tthis.rootEl.removeChild(this.rootEl.chidlren[i]);\n\t}\n\n\tthis.rootEl.removeAttribute('data-o-share--js');\n\tthis.rootEl = undefined;\n};\n\nShare.init = function(el) {\n\tconst shareInstances = [];\n\n\tif (!el) {\n\t\tel =document.body;\n\t} else if (!el instanceof HTMLElement) {\n\t\tel = document.querySelector(el);\n\t}\n\n\tconst shareElements = el.querySelectorAll('[data-o-component=o-share]');\n\n\tfor (let i = 0; i < shareElements.length; i++) {\n\t\tif (!shareElements[i].hasAttribute('data-o-header--js')) {\n\t\t\tshareInstances.push(new Share(shareElements[i]));\n\t\t}\n\t}\n\n\treturn shareInstances;\n};\n\nconst OSharePrototype = Object.create(HTMLElement.prototype);\n\nShare.Element = document.registerElement ? document.registerElement('o-share', {\n\tprototype: OSharePrototype\n}) : undefined;\n\nmodule.exports = Share;","'use strict'\nvar oShare = require('ftc-share');\n\noShare.init();\n\n$(function() {\n\n/* variables*/\nvar $w = $(window);\nvar pageName = window.location.pathname;\nvar headerHeight = $('.header').height();\nvar viewportHeight = $(window).height() - headerHeight;\nvar $tocNav = $('.nav__toc').eq(0);\n\n/* Show/Hide Navigation */\nshowHideNav($('.small-menu'), $('.nav__toc'));\n\nbackToTop($('.to-top'));\n\n/* Generate navigation and deal with scrolled pagination */\nvar navLinks = generateNav($('.nav__toc'), $('.nav-target'));\n\nvar navTargetTops = getOffsetTop($('.nav-target')).toArray();\n\nvar wScrolledTop = $w.scrollTop();\nvar currentPage = onWhichPage(wScrolledTop, navTargetTops);\nvar previousPage = currentPage;\nactiveNavLink(currentPage, navLinks);\nlogPages(pageName, currentPage);\n\n$w.on('scroll', function() {\n\tvar wScrolledTop = $w.scrollTop();\n\tvar currentPage = onWhichPage(wScrolledTop, navTargetTops);\n\tif (previousPage !== currentPage) {\t\t\n\t\tpreviousPage = currentPage;\n\t\tactiveNavLink(currentPage, navLinks);\n\t\tlogPages(pageName, currentPage);\n\t}\n});\n\n\n});\n\nfunction activeNavLink(currentPage, navLinks) {\n\tvar currentNavLink = navLinks[currentPage - 1];\n\tcurrentNavLink.addClass('active');\n\tcurrentNavLink.siblings().removeClass('active');\n}\n\nfunction onWhichPage(x, arr) {\n//Initially you are on the page 1.\n\tvar j = 1;\n\tfor (var i = 0; i < arr.length; i++) {\n// If x > arr[i], you are on the page i+1.\n\t\tif (x >= arr[i]) {\n\t\t\tj = i+1;\n\t\t}\n\t}\n\treturn j;\n}\n\nfunction logPages(pageName, pageNumber) {\n\ttry {\n\t  ga('send', 'pageview', pageName + '?page=' + pageNumber);\n\t  fa('send', 'pageview', pageName + '?page=' + pageNumber);\n\t  ftcLog();\n\t} catch (ignore) {\n\n\t}\t\n}\n\nfunction backToTop($elm) {\n\t$elm.on('click', function(e){\n\t\te.preventDefault();\n\t\t$(window).scrollTo(0, 1000);\n\t});\n}\n\nfunction getOffsetTop($elms) {\n\treturn $elms.map(function() {\n\t\treturn $(this).offset().top;\n\t});\n}\n\nfunction generateNav($navContainer, $navTargets) {\n\tvar navLinks = [];\n\t$navTargets.each(function(i) {\n\t\tvar targetId = $(this).attr('id');\n\t\tvar link = $('<a/>', {\n\t\t\t'href': '#' + targetId,\n\t\t\t'click': function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$(window).scrollTo(document.getElementById(targetId), 300);\n\t\t\t\t$(e.target).addClass('active');\n\t\t\t\t$(e.target).siblings().removeClass('active');\n\t\t\t}\n\t\t}).text(i+1);\n\n\t\t$navContainer.append(link);\n\t\tnavLinks.push(link);\n\t});\t\n\treturn navLinks;\n}\n\nfunction showHideNav($elm, $navContainer) {\n\t$('body').on('load click touch', function() {\n\t\t$navContainer.addClass('hide-on-small');\n\t});\n\n\t$elm.on('click touch', function(e) {\n\t\t$navContainer.toggleClass('hide-on-small');\n\t\te.stopPropagation();\n\t});\n}\n"]}